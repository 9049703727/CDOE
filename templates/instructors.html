{% extends 'base.html' %}
{% load static %}
{% block title %}Instructors - Gujarat University{% endblock %}
{% block content %}

<body class="instructors-page">

  <main class="main">

    <!-- Page Title -->
    <div class="page-title light-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">Instructors</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="/">Home</a></li>
            <li class="current">Instructors</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <!-- Instructors Section -->
    <section id="instructors" class="instructors section">

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">

          {% for instructor in page_obj %}
          <div class="col-xl-3 col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:200 }}">
            <div class="instructor-card">
              <div class="instructor-image">
                {% if instructor.profile_image %}
                <img src="{{ instructor.profile_image.url }}" class="img-fluid" alt="{{ instructor.get_display_name }}">
                {% else %}
                <img src="{% static 'img/education/teacher-2.webp' %}" class="img-fluid" alt="{{ instructor.get_display_name }}">
                {% endif %}
                <div class="overlay-content">
                  <div class="rating-stars">
                    {% with rating=instructor.avg_rating|default:0|floatformat:0 %}
                    {% for i in "12345" %}
                      {% if forloop.counter <= rating|add:0 %}
                        <i class="bi bi-star-fill"></i>
                      {% elif forloop.counter == rating|add:1 and instructor.avg_rating|floatformat:1|slice:"-1" >= "5" %}
                        <i class="bi bi-star-half"></i>
                      {% else %}
                        <i class="bi bi-star"></i>
                      {% endif %}
                    {% endfor %}
                    {% endwith %}
                    <span>{{ instructor.avg_rating|default:"0.0"|floatformat:1 }}</span>
                  </div>
                  <div class="course-count">
                    <i class="bi bi-play-circle"></i>
                    <span>{{ instructor.course_count|default:"0" }} Course{{ instructor.course_count|pluralize }}</span>
                  </div>
                </div>
              </div>
              <div class="instructor-info">
                <h5>{{ instructor.get_display_name }}</h5>
                <p class="specialty">{{ instructor.specialization|default:"Educator" }}</p>
                <p class="description">
                  {% if instructor.short_description %}
                    {{ instructor.short_description|truncatewords:15 }}
                  {% elif instructor.bio %}
                    {{ instructor.bio|truncatewords:15 }}
                  {% else %}
                    Experienced educator and subject matter expert.
                  {% endif %}
                </p>
                <div class="stats-grid">
                  <div class="stat">
                    <span class="number">{{ instructor.total_students_count|default:"0"|floatformat:1 }}k</span>
                    <span class="label">Students</span>
                  </div>
                  <div class="stat">
                    <span class="number">{{ instructor.avg_rating|default:"0.0"|floatformat:1 }}</span>
                    <span class="label">Rating</span>
                  </div>
                </div>
                <div class="action-buttons">
                  <a href="/instructor-profile.html/{{ instructor.id }}/">View Profile</a>
                  <div class="social-links">
                    {% if instructor.linkedin_url %}
                    <a href="{{ instructor.linkedin_url }}" target="_blank"><i class="bi bi-linkedin"></i></a>
                    {% endif %}
                    {% if instructor.twitter_url %}
                    <a href="{{ instructor.twitter_url }}" target="_blank"><i class="bi bi-twitter"></i></a>
                    {% endif %}
                    {% if instructor.github_url %}
                    <a href="{{ instructor.github_url }}" target="_blank"><i class="bi bi-github"></i></a>
                    {% endif %}
                    {% if instructor.facebook_url %}
                    <a href="{{ instructor.facebook_url }}" target="_blank"><i class="bi bi-facebook"></i></a>
                    {% endif %}
                    {% if not instructor.linkedin_url and not instructor.twitter_url and not instructor.github_url and not instructor.facebook_url %}
                    <a href="#"><i class="bi bi-linkedin"></i></a>
                    <a href="#"><i class="bi bi-twitter"></i></a>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% empty %}
          <div class="col-12 text-center py-5">
            <h4>No instructors found.</h4>
            <p>Please check back later.</p>
          </div>
          {% endfor %}

        </div>

        <!-- Pagination -->
        {% if page_obj.has_other_pages %}
        <div class="row mt-5">
          <div class="col-12">
            <nav aria-label="Instructors pagination">
              <ul class="pagination justify-content-center">
                {% if page_obj.has_previous %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                    <i class="bi bi-chevron-left"></i>
                  </a>
                </li>
                {% else %}
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                    <i class="bi bi-chevron-left"></i>
                  </a>
                </li>
                {% endif %}

                {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                <li class="page-item active">
                  <a class="page-link" href="#">{{ num }}</a>
                </li>
                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
                {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ page_obj.next_page_number }}">
                    <i class="bi bi-chevron-right"></i>
                  </a>
                </li>
                {% else %}
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                    <i class="bi bi-chevron-right"></i>
                  </a>
                </li>
                {% endif %}
              </ul>
            </nav>
          </div>
        </div>
        {% endif %}

      </div>

    </section><!-- /Instructors Section -->

  </main>



  <style>
    .instructor-card {
      transition: transform 0.3s, box-shadow 0.3s;
      border-radius: 10px;
      overflow: hidden;
    }
    
    .instructor-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .instructor-image-wrapper {
      position: relative;
      overflow: hidden;
    }
    
    .instructor-image {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }
    
    .featured-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #ffc107;
      color: white;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 14px;
    }
    
    .rating-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(255,255,255,0.9);
      padding: 5px 12px;
      border-radius: 20px;
      font-weight: bold;
    }
    
    .courses-badge {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(0,123,255,0.9);
      color: white;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 12px;
    }
    
    .specialization {
      font-size: 12px;
      font-weight: bold;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }
    
    .instructor-stats {
      display: flex;
      justify-content: space-around;
      padding: 15px 0;
      border-top: 1px solid #eee;
      border-bottom: 1px solid #eee;
      margin: 15px 0;
    }
    
    .stat-item {
      text-align: center;
    }
    
    .stat-item strong {
      display: block;
      font-size: 20px;
      color: #333;
    }
    
    .stat-item span {
      font-size: 11px;
      color: #666;
      letter-spacing: 1px;
    }
    
    .social-links {
      display: flex;
      gap: 10px;
      justify-content: center;
    }
    
    .social-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: #f8f9fa;
      color: #333;
      transition: all 0.3s;
    }
    
    .social-icon:hover {
      background: #007bff;
      color: white;
      transform: translateY(-3px);
    }
  </style>

</body>

{% endblock content %}